<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Mini Casino</title>

<style>
body{
  margin:0;font-family:Arial;
  background:linear-gradient(180deg,#0b1a33,#081427);
  color:#fff
}
.screen{display:none;padding:12px}
.screen.active{display:block}
.top{
  display:flex;justify-content:space-between;align-items:center;
  background:#0f2348;padding:12px;border-radius:14px
}
.btn{
  background:#1e88e5;border:none;color:#fff;
  padding:8px 14px;border-radius:12px;font-size:14px
}
.game-btn{
  width:100%;margin:10px 0;
  background:#ffb300;color:#000;
  padding:14px;border-radius:16px;font-size:20px;font-weight:bold
}
.box{
  background:#0f2348;border-radius:14px;
  padding:12px;margin:10px 0
}
.grid2{display:grid;grid-template-columns:1fr 1fr;gap:10px}
.grid3{display:grid;grid-template-columns:repeat(3,1fr);gap:10px}
.bet-btn{
  background:#1e3c72;padding:14px;
  border-radius:14px;text-align:center;font-weight:bold
}
.bet-btn.active{background:#43a047}
.money{display:flex;flex-wrap:wrap}
.money button{
  margin:5px;background:#ffd54f;color:#000;
  border:none;border-radius:10px;padding:8px 12px
}
.dice{font-size:40px;text-align:center}
.history{font-size:13px;max-height:120px;overflow:auto}
.bank-item{background:#162b55;padding:10px;border-radius:12px;margin:6px 0}
.ticket{background:#fff;color:#000;padding:16px;border-radius:14px;text-align:center}
.ticket.active{background:#4caf50;color:#fff}
</style>
</head>

<body>

<!-- HOME -->
<div id="home" class="screen active">
  <div class="top">
    <b>üé∞ MINI CASINO</b>
    <button class="btn" onclick="openScreen('bank')">BANK</button>
  </div>
  <div class="box">S·ªë d∆∞: <b id="bal"></b> ƒë</div>

  <button class="game-btn" onclick="openScreen('baucu')">ü¶Ä B·∫¶U CUA</button>
  <button class="game-btn" onclick="openScreen('chanle')">üé≤ CH·∫¥N L·∫∫</button>
  <button class="game-btn" onclick="openScreen('lottery')">üéü B·ªêC THƒÇM</button>
  <button class="game-btn" onclick="openScreen('miner')">‚õèÔ∏è M√ÅY ƒê√ÄO</button>
</div>

<!-- ================= BANK ================= -->
<div id="bank" class="screen">
  <div class="top">
    <button class="btn" onclick="openScreen('home')">‚¨Ö</button>
    <b>üè¶ BANK</b>
  </div>
  <div class="box">S·ªë d∆∞: <b id="balBank"></b></div>

  <button class="btn" onclick="addMoney()">+100M (t·ªëi ƒëa 5)</button>

  <div class="bank-item">36 BANK: <b id="b36"></b></div>
  <div class="bank-item">67 BANK: <b id="b67"></b></div>
  <div class="bank-item">NEMCHUA BANK: <b id="bn"></b></div>

  <div class="money">
    <button onclick="withdraw(36)">R√∫t 36</button>
    <button onclick="withdraw(67)">R√∫t 67</button>
    <button onclick="withdraw(0)">R√∫t Nem</button>
    <button onclick="deposit()">N·∫°p l·∫°i</button>
  </div>
</div>

<!-- ================= M√ÅY ƒê√ÄO ================= -->
<div id="miner" class="screen">
  <div class="top">
    <button class="btn" onclick="openScreen('home')">‚¨Ö</button>
    <b>‚õèÔ∏è M√ÅY ƒê√ÄO</b>
  </div>

  <div class="box">S·ªë d∆∞: <b id="minerBal"></b> ƒë</div>
  <div class="box">T·ªïng ƒë√£ ƒë√†o: <b id="totalMined"></b> ƒë</div>

  <div class="box" id="minerInfo"></div>

  <button class="game-btn" id="buyMinerBtn" onclick="buyMiner()">
    MUA 1 M√ÅY (1 T·ªà)
  </button>
</div>

<!-- ================= B·∫¶U CUA ================= -->
<div id="baucu" class="screen">
<div class="top">
<button class="btn" onclick="openScreen('home')">‚¨Ö</button>
<b>B·∫¶U CUA</b>
</div>

<div class="box">‚è≥ <span id="bcTime">10</span>s</div>
<div class="dice" id="bcDice">üé≤ üé≤ üé≤</div>

<div class="grid3">
<div class="bet-btn" onclick="betBC('B·∫ßu')">B·∫ßu</div>
<div class="bet-btn" onclick="betBC('Cua')">Cua</div>
<div class="bet-btn" onclick="betBC('T√¥m')">T√¥m</div>
<div class="bet-btn" onclick="betBC('C√°')">C√°</div>
<div class="bet-btn" onclick="betBC('G√†')">G√†</div>
<div class="bet-btn" onclick="betBC('Nai')">Nai</div>
</div>

<div class="money">
<button onclick="setBet(1000)">1k</button>
<button onclick="setBet(10000)">10k</button>
<button onclick="setBet(100000)">100k</button>
<button onclick="setBet(1000000)">1m</button>
<button onclick="setBet(10000000)">10m</button>
</div>

<div class="box">C∆∞·ª£c: <b id="bcBet">0</b></div>
<div class="box history" id="bcHis"></div>
</div>

<!-- ================= CH·∫¥N L·∫∫ ================= -->
<div id="chanle" class="screen">
<div class="top">
<button class="btn" onclick="openScreen('home')">‚¨Ö</button>
<b>CH·∫¥N L·∫∫</b>
</div>

<div class="box">‚è≥ <span id="clTime">10</span>s</div>
<div class="dice" id="clDice">üé≤ üé≤ üé≤ üé≤</div>

<div class="grid2">
<div class="bet-btn" onclick="pickCL('Ch·∫µn')">Ch·∫µn</div>
<div class="bet-btn" onclick="pickCL('L·∫ª')">L·∫ª</div>
</div>

<div class="money">
<button onclick="setBetCL(1000)">1k</button>
<button onclick="setBetCL(10000)">10k</button>
<button onclick="setBetCL(100000)">100k</button>
<button onclick="setBetCL(1000000)">1m</button>
<button onclick="setBetCL(10000000)">10m</button>
</div>

<div class="box">C∆∞·ª£c: <b id="clBet">0</b></div>
<div class="box history" id="clHis"></div>
</div>

<!-- ================= B·ªêC THƒÇM ================= -->
<div id="lottery" class="screen">
<div class="top">
<button class="btn" onclick="openScreen('home')">‚¨Ö</button>
<b>B·ªêC THƒÇM</b>
</div>

<div class="box">Gi√° ch∆°i: 500.000</div>
<div class="grid3" id="tickets"></div>
<button class="game-btn" onclick="playLottery()">X√ÅC NH·∫¨N</button>
<div class="box" id="lotResult"></div>
</div>

<script>
/* ===== CORE ===== */
let bal = +localStorage.bal || 500000000;
let addCount = +localStorage.add || 0;
let bank36=+localStorage.b36||0,bank67=+localStorage.b67||0,bankN=+localStorage.bn||0;

/* ===== MINER ===== */
const MINER_PRICE = 1_000_000_000;
const MINER_PROFIT = 50_000_000;
const MINER_TIME = 86400;
const MINER_MAX = 10;

let miners = JSON.parse(localStorage.miners || "[]");
let totalMined = +localStorage.totalMined || 0;

function save(){
 localStorage.bal=bal;localStorage.add=addCount;
 localStorage.b36=bank36;localStorage.b67=bank67;localStorage.bn=bankN;
 localStorage.miners=JSON.stringify(miners);
 localStorage.totalMined=totalMined;
}
function update(){
 document.getElementById("bal").innerText=bal.toLocaleString();
 document.getElementById("balBank").innerText=bal.toLocaleString();
 document.getElementById("minerBal").innerText=bal.toLocaleString();
 document.getElementById("totalMined").innerText=totalMined.toLocaleString();
 document.getElementById("b36").innerText=bank36.toLocaleString();
 document.getElementById("b67").innerText=bank67.toLocaleString();
 document.getElementById("bn").innerText=bankN.toLocaleString();
 save();
}
update();

function openScreen(id){
 document.querySelectorAll(".screen").forEach(s=>s.classList.remove("active"));
 document.getElementById(id).classList.add("active");
}

/* ===== BANK ===== */
function addMoney(){
 if(addCount>=5)return alert("ƒê√£ ƒë·∫°t gi·ªõi h·∫°n");
 bal+=100000000;addCount++;update();
}
function withdraw(b){
 let v=+prompt("Nh·∫≠p ti·ªÅn r√∫t"); if(v<=0||v>bal)return;
 bal-=v;
 if(b==36)bank36+=v; else if(b==67)bank67+=v; else bankN+=v;
 update();
}
function deposit(){
 let v=+prompt("Nh·∫≠p ti·ªÅn n·∫°p"); if(v<=0)return;
 if(bank36>=v){bank36-=v;bal+=v}
 else if(bank67>=v){bank67-=v;bal+=v}
 else if(bankN>=v){bankN-=v;bal+=v}
 update();
}

/* ===== MINER LOGIC ===== */
function buyMiner(){
 if(bal<MINER_PRICE)return alert("Kh√¥ng ƒë·ªß ti·ªÅn");
 if(miners.length>=MINER_MAX)return;
 bal-=MINER_PRICE;
 miners.push({start:Date.now(),last:Date.now()});
 update();
}
setInterval(()=>{
 let now=Date.now(),alive=[];
 miners.forEach(m=>{
  let t=Math.floor((now-m.start)/1000);
  if(t<MINER_TIME){
   let d=Math.floor((now-m.last)/1000);
   if(d>0){
    let earn=d*MINER_PROFIT;
    bal+=earn;totalMined+=earn;
    m.last=now;
   }
   alive.push(m);
  }
 });
 miners=alive;
 let info=document.getElementById("minerInfo");
 if(miners.length){
  let remain=MINER_TIME-Math.floor((now-miners[0].start)/1000);
  info.innerHTML=
   `‚öôÔ∏è M√°y: ${miners.length}/${MINER_MAX}<br>
    üí∞ +${(MINER_PROFIT*miners.length).toLocaleString()} / gi√¢y<br>
    ‚è≥ M√°y s·ªõm nh·∫•t c√≤n: ${Math.floor(remain/3600)}h`;
 }else info.innerText="Ch∆∞a c√≥ m√°y ƒë√†o";
 document.getElementById("buyMinerBtn").disabled = miners.length>=MINER_MAX;
 update();
},1000);

/* ===== C√ÅC GAME C≈® (GI·ªÆ NGUY√äN) ===== */
let bcBet=0,bcPick="",bcT=10;
function setBet(v){if(bal<v)return;bcBet=v}
function betBC(x){bcPick=x;document.getElementById("bcBet").innerText=x+" "+bcBet}
setInterval(()=>{
 document.getElementById("bcTime").innerText=bcT;
 if(bcT--<=0){
  bcT=10;if(!bcPick||!bcBet)return;
  bal-=bcBet;
  let a=["B·∫ßu","Cua","T√¥m","C√°","G√†","Nai"];
  let r=[a[rnd()],a[rnd()],a[rnd()]];
  document.getElementById("bcDice").innerText=r.join(" ");
  let c=r.filter(x=>x==bcPick).length,win=0;
  if(c==3){
   let p=Math.random()*100;
   if(p<2.5)win=bcBet*50;
   else if(p<7.5)win=bcBet*20;
   else if(p<17.5)win=bcBet*10;
  }else if(c>0)win=bcBet*5;
  bal+=win;
  document.getElementById("bcHis").innerHTML=
   `<div>${bcPick} | ${r.join("-")} | +${win}</div>`+
   document.getElementById("bcHis").innerHTML;
  bcPick="";bcBet=0;update();
 }
},1000);

let clPick="",clBet=0,clT=10;
function setBetCL(v){if(bal<v)return;clBet=v}
function pickCL(x){clPick=x;document.getElementById("clBet").innerText=x+" "+clBet}
setInterval(()=>{
 document.getElementById("clTime").innerText=clT;
 if(clT--<=0){
  clT=10;if(!clPick||!clBet)return;
  bal-=clBet;
  let d=[rnd()+1,rnd()+1,rnd()+1,rnd()+1];
  document.getElementById("clDice").innerText=d.join(" ");
  let s=d.reduce((a,b)=>a+b,0);
  let win=((s%2==0&&clPick=="Ch·∫µn")||(s%2==1&&clPick=="L·∫ª"))?clBet*2:0;
  bal+=win;
  document.getElementById("clHis").innerHTML=
   `<div>${clPick} | ${s} | +${win}</div>`+
   document.getElementById("clHis").innerHTML;
  clPick="";clBet=0;update();
 }
},1000);

const gifts=[
{t:"May m·∫Øn",v:0,p:70},
{t:"C√°i n·ªãt",v:0,p:50},
{t:"+10M",v:10000000,p:5},
{t:"+50M",v:50000000,p:2},
{t:"-2M",v:-2000000,p:20},
{t:"+100M",v:100000000,p:.5}
];
let pick=[];
function drawGift(){let r=Math.random()*100,s=0;for(let g of gifts){s+=g.p;if(r<s)return g}}
function renderTickets(){
 let t=document.getElementById("tickets");t.innerHTML="";
 for(let i=0;i<6;i++){
  let d=document.createElement("div");
  d.className="ticket";d.innerText="Phi·∫øu "+(i+1);
  d.onclick=()=>{
   if(pick.includes(i))pick=pick.filter(x=>x!=i),d.classList.remove("active");
   else if(pick.length<2)pick.push(i),d.classList.add("active");
  };
  t.appendChild(d);
 }
}
renderTickets();
function playLottery(){
 if(pick.length<2||bal<500000)return;
 bal-=500000;
 let g1=drawGift(),g2=drawGift();
 bal+=g1.v+g2.v;
 document.getElementById("lotResult").innerText=
  g1.t+" | "+g2.t+" = "+(g1.v+g2.v);
 pick=[];renderTickets();update();
}
function rnd(){return Math.floor(Math.random()*6)}
</script>
</body>
</html>